<!DOCTYPE html>
<html>

<head>

    <!-- Dependencies -->
    <link href="./public/login.css" rel="stylesheet" />
    <link href="./public/app.js" rel="javascript" />
    <link href="./public/404.html" rel="html" />
</head>

<body>

    <!-- Dependencies -->
    <meta charset="utf-8">
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>

    <!-- background image -->

    <body background="./public/backgrounds/loginBackground.jpg"></body>

    <!-- Website Title -->
    <img id="backGroundLogo" class="backGroundLogo"  height="20px" width="100px" src="./public/backgrounds/TwoSenseLogoV1.png">

    <!-- sign in box -->
    <div class="loginBox">

        <h1 class="signInHeader">Sign In</h1>

        <!-- check if already logged in and redirect if needed -->
        <script>
            var config = {
                apiKey: "AIzaSyDNs60mQkp79n5tflFVEc7ihH8Kr1ayXM4",
                authDomain: "twosense-66771.firebaseapp.com",
                databaseURL: "https://twosense-66771.firebaseio.com",
                projectId: "twosense-66771",
                storageBucket: "twosense-66771.appspot.com",
                messagingSenderId: "1043280577170"
            };
            firebase.initializeApp(config);

            firebase.auth().onAuthStateChanged(firebaseUser => {

                if (firebaseUser) {
                    console.log(firebaseUser);
                    window.location.replace("home.html");
                    console.log("User is logged in!");
                }
                else {
                    console.log("User is not logged in!");
                    //alert("The email you entered does not belong to an account. Please check your email and password.");
                }

            });
        </script>
        
        <div class="textBoxInput">
            <div class="inputTitle">EMAIL</div>
            <input id="emailIn" type="text" placeholder="Email">
            <div class="inputTitle">PASSWORD</div>
            <input id="passwordIn" type="password" name="password" placeholder="Password">
        </div>

        <button onclick="loginButtonCheck()" id="loginButton" class="buttonSignInPage">SIGN IN</button>

        <button onclick="registerButtonCheck();" id="registerButton" class="buttonSignInPage">REGISTER</button>

        <!-- <button id="logoutButton" class="buttonSignInPage">LOG OUT</button> -->
    </div>


    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyDNs60mQkp79n5tflFVEc7ihH8Kr1ayXM4",
            authDomain: "twosense-66771.firebaseapp.com",
            databaseURL: "https://twosense-66771.firebaseio.com",
            projectId: "twosense-66771",
            storageBucket: "twosense-66771.appspot.com",
            messagingSenderId: "1043280577170"
        };
        firebase.initializeApp(config);
        /* End given code */
        var db = firebase.database();
    </script>
    <script src="./public/app.js"> </script>


</body>

</html>